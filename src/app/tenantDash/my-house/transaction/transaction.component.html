
<div class="wrapper">
    <app-tenant-sidebar></app-tenant-sidebar>
    <!--  Mid section  -->
    <div class="main-panel">
       <!-- Navbar -->
    <app-tenant-nav></app-tenant-nav>
    <div class="content whiteBg">
<app-my-house-nav></app-my-house-nav>
  <div class="DueToday">
     <div class="card">
        <div class="card-body padd0 disF">
           <div class="dueTodayDiv ">
              <div class="dueInner">
                 <h4 class="secHead">Due Today </h4>
                 <div class="amountdiv">
                    <h2 class="pull-left">$25.00 </h2>
                    <button  class="btn EditProperty  pull-right mar0" >Add Bill</button>
                 </div>
                 <div class="btn-group">
                    <button type="button" class="btn btn-default">Bank</button>
                    <button type="button" class="btn btn-default">MPESA</button>
                    <button type="button" class="btn btn-default">Offline PAyment</button>
                 </div>
              </div>
           </div>
           <div class="leaseDiv">
              <div class="leaseSingle">
                 <h4>Lease</h4>
                 <p>: Rangit Holkar</p>
              </div>
              <div class="leaseSingle">
                 <h4>Recurring Rent</h4>
                 <p>: Ksh. 50000</p>
              </div>
              <div class="leaseSingle">
                 <h4>Due Date</h4>
                 <p>: 5th Sep</p>
              </div>
              <div class="leaseSingle">
                 <h4>Automatic Pay</h4>
                 <label class="switch">
                 <input type="checkbox">
                 <span class="slider round"></span>
                 </label>
              </div>
           </div>
        </div>
     </div>
  </div>
  <div class="UpcomingDiv">
     <div class="addReqHead">
        <h3>In Progress & Upcoming</h3>
     </div>
     <!-- <h4 class="secHead"></h4> -->
     <div class="card marB25">
        <div class="card-body " >
           <div class="tableShadow" >
              <table class="table table-striped " >
                 <thead>
                    <tr>
                       <th>Status </th>
                       <th>Type </th>
                       <th>Due</th>
                       <th>Paid</th>
                       <th>Balance</th>
                       <!-- <th>Add Tenant</th> -->
                    </tr>
                 </thead>
                 <tbody >
                    <tr *ngFor="let InProgresstransaction of in_progress_payment">
                       <td>
                          <h4 class="orangeText">Due</h4>
                          <h4 class="">{{InProgresstransaction.payment_date}}</h4>
                       </td>
                       <td>{{InProgresstransaction.paymentFrequency}} Rent</td>
                       <td>{{InProgresstransaction.totalAmount}}</td>
                       <td>0</td>
                       <td>
                          6000
                       </td>
                    </tr>
                    <tr >
                       <td>
                          <h4 class="blueText">Shedule</h4>
                          <h4 class="">Jan 5th</h4>
                       </td>
                       <td>Monthly Rent</td>
                       <td>6000</td>
                       <td>0</td>
                       <td>
                          6000
                       </td>
                    </tr>
                 </tbody>
              </table>
              <div class="col-md-12 outerNoRecord" *ngIf="unit_data?.length ==0">
                 <div >No Records</div>
              </div>
           </div>
           <div class="clearfix"></div>
        </div>
     </div>
  </div>
  <div class="Completed">
     <div class="addReqHead">
        <h3>Completed</h3>
     </div>
     <!-- <h4 class="secHead"></h4> -->
     <div class="card marB25">
        <div class="card-body" >
           <div class="tableShadow" >
              <table class="table table-striped " >
                 <thead>
                    <tr>
                       <th>Date </th>
                       <th>Type </th>
                       <th>Amount</th>
                       <th>Action</th>
                       <!-- <th>Add Tenant</th> -->
                    </tr>
                 </thead>
                 <tbody >
                    <tr *ngFor="let transaction of transactionHistory">
                       <td>
                          <h4 class="">{{transaction.payment_date | date: 'MMM d, y'}}</h4>
                       </td>
                       <td>{{transaction.type_name}} </td>
                       <td>{{transaction.totalAmount}}<span>{{transaction.payment_type == 1 ? 'Cash' : transaction.payment_type == 2 ? 'Check' : 'Other' }}</span></td>
                       <td><button class="btn EditProperty mar0" (click)="showReciptPopup(transaction.id)"> Receipt </button></td>
                    </tr>
                    <!-- <tr >
                       <td>
                       <h4 class="">Jan 5th</h4>
                       </td>
                       <td>Monthly Rent</td>
                       <td>6000 <span>Bank</span></td>
                       <td><button class="btn EditProperty mar0"> Receipt </button></td>
                       
                       
                       </tr> -->
                    <!-- <tr >
                       <td>
                       <h4 class="">Jan 5th</h4>
                       </td>
                       <td>Monthly Rent</td>
                       <td>6000 <span>Offline Payment</span></td>
                       <td><button class="btn EditProperty mar0"> Receipt </button></td>
                       
                       
                       </tr> -->
                 </tbody>
              </table>
              <div class="col-md-12 outerNoRecord" *ngIf="transactionHistory?.length ==0">
                 <div >No Records</div>
              </div>
           </div>
           <div class="clearfix"></div>
        </div>
     </div>
  </div>
  <!-- popup receipt start-->
  <div class="modal commentReply" id="myModalRecipt">
   <div class="modal-dialog">
      <div class="modal-content fullWidth">
         <div class="modal-text padd0" *ngFor="let transaction of transaction">
            <!-- Modal Header -->
            <div class="modal-header">
               <h4 class="modal-title">Receipt</h4>
               <button type="button" class="close" data-dismiss="modal">&times;</button> 
            </div>
            <!-- Modal body -->
            <div class="receiptDetail" id="PdfRecipt">
               <div class="receiptDetailInner">
                  <h4 class="recHead">Rent Receipt</h4>
                  <div class="listReceipt">
                     <p>Date</p>
                     <p>	: {{transaction.payment_date | date}}</p>
                  </div>
                  <div class="listReceipt">
                     <p>Received From	</p>
                     <p>:{{transaction.tenant_name}}	</p>
                  </div>
                  <div class="listReceipt">
                     <p>Rental Property	</p>
                     <p>: {{transaction.flatHoseNo}}	</p>
                  </div>
                  <div class="listReceipt">
                     <p>Payment Received As</p>
                     <p>: Rent	</p>
                  </div>
                  <div class="listReceipt">
                     <p>Payment Method</p>
                     <p>	: {{transaction.payment_type == 1 ? 'Cash' :transaction.payment_type == 2 ? 'Check' : 'Other'}}</p>
                  </div>
                  <div class="listReceipt">
                     <p>For The Period	</p>
                     <p>: {{transaction.start_period | date}} To {{transaction.end_period | date}}	</p>
                  </div>
                  <div class="fullwidth DFlex noMar" >
                     <div class="text-left">
                        <h3>Charge Description</h3>
                        <p>Sub Total</p>
                     </div>
                     <div class="text-right">
                        <h3>Amount</h3>
                        <p>KSh {{transaction.amount}}</p>
                     </div>
                  </div>
                  <div class="description">
                     <div class="listReceipt" *ngFor="let dedution_data of deduction">
                        <p >{{dedution_data.remove_text}}	</p>
                        <p style="text-align:right;">(-) Ksh {{dedution_data.remove_digit }}	</p>
                     </div>
                     <div class="listReceipt" *ngFor="let addtional_data of additonal">
                        <p >{{addtional_data.add_text}}</p>
                        <p style="text-align:right;">(+)Ksh {{addtional_data.add_digit }}	</p>
                     </div>
                     <!-- <div class="listReceipt">
                        <p >For The Period	</p>
                        <p style="text-align:right;">: {{transaction.start_period | date}} To {{transaction.end_period | date}}	</p>
                        </div> -->
                  </div>
                  <div class="fullwidth DFlex">
                     <div class="text-left">
                        <p>Total Charges</p>
                        <p>Landlord:</p>
                     </div>
                     <div class="text-right">
                        <p>KSh  {{transaction.totalAmount}}</p>
                        <p>{{transaction.userName}}</p>
                     </div>
                  </div>
                  <div class="paidDiv">
                     <h4>{{transaction.payment_status == 0 ?'Unpaid' : transaction.payment_status == 1 ?'Paid' : 'Partially Paid'}}</h4>
                  </div>
               </div>
            </div>
            <div class="modal-footer">
               <!-- <button (click)="SendEmailRecipt(transaction.id)"class="btn commonBtnP">Email Receipt</button> -->
               <button class="btn commonBtnP" (click)="genratePdf()">Save as PDF</button>
               <button class="btn commonBtnC" (click)="hideRecipt()">Cancel</button>
            </div>
         </div>
      </div>
   </div>
</div>
<!-- popup receipt end -->
<footer class="footer">
  <div class="container-fluid">
   
  </div>
</footer>
</div>
</div>




